<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enciclopedia Qu√≠mica Pro</title>
    <style>
        :root {
            --bg: #0d1117; --card: #161b22; --accent: #58a6ff;
            --danger: #f85149; --warning: #d29922; --safe: #3fb950; --info: #bc8cff;
        }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: var(--bg); color: #c9d1d9; margin: 0; padding: 10px; line-height: 1.4; }
        .app { max-width: 700px; margin: auto; }
        
        .shelf { background: var(--card); padding: 15px; border-radius: 12px; border: 1px solid #30363d; margin-bottom: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.5); }
        .chemical-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
        
        .chemical-item { display: flex; align-items: center; justify-content: space-between; background: #21262d; padding: 10px; border-radius: 8px; border: 1px solid #30363d; cursor: pointer; transition: 0.2s; }
        .chemical-item.selected { border-color: var(--accent); background: #1f2937; box-shadow: 0 0 10px var(--accent); }
        
        .info-btn { background: var(--info); color: white; border: none; border-radius: 6px; padding: 4px 8px; font-size: 12px; font-weight: bold; cursor: help; }

        .lab-zone { text-align: center; padding: 25px; border: 2px dashed var(--accent); border-radius: 15px; margin-bottom: 15px; background: rgba(88, 166, 255, 0.05); }
        .mix-btn { background: var(--safe); color: white; border: none; padding: 15px 40px; border-radius: 30px; font-weight: bold; font-size: 1.2rem; cursor: pointer; margin-top: 10px; transition: 0.3s; width: 100%; }
        .mix-btn:active { transform: scale(0.95); }

        .result-box { display: none; background: var(--card); padding: 20px; border-radius: 12px; border-top: 8px solid #ccc; margin-bottom: 15px; animation: fadeIn 0.4s; }
        
        .storage-tag { background: #30363d; padding: 3px 8px; border-radius: 4px; font-size: 0.8rem; color: var(--accent); display: inline-block; margin-top: 5px; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); display: none; align-items: center; justify-content: center; z-index: 100; }
        .modal-content { background: var(--card); width: 90%; max-height: 80%; overflow-y: auto; padding: 20px; border-radius: 15px; border: 1px solid var(--accent); }
        .close-modal { background: var(--danger); color: white; border: none; padding: 10px; width: 100%; border-radius: 8px; margin-top: 15px; font-weight: bold; }
    </style>
</head>
<body>

<div class="app">
    <h1 style="text-align:center; color: var(--accent); margin-bottom: 5px;">üî¨ Laboratorio Qu√≠mico Industrial</h1>
    <p style="text-align:center; font-size: 0.9rem; margin-bottom: 20px;">Versi√≥n 3.0 - Enciclopedia de Reactividad</p>
    
    <div class="shelf">
        <div class="chemical-grid" id="chemical-list"></div>
    </div>

    <div class="lab-zone">
        <div id="selection-display" style="font-weight: bold; min-height: 1.5em;">Selecciona los componentes...</div>
        <button class="mix-btn" id="btn-mezclar" onclick="mezclar()" disabled>GENERAR REACCI√ìN</button>
        <div style="margin-top:10px; font-size: 0.8rem; color: #8b949e;">‚ö†Ô∏è Advertencia: Simulador con fines educativos. Nunca realizar estas mezclas.</div>
    </div>

    <div id="resultado" class="result-box"></div>
</div>

<div id="infoModal" class="modal">
    <div class="modal-content" id="modalBody"></div>
</div>

<script>
    // BASE DE DATOS MASIVA DE QU√çMICOS
    const chemicals = {
        "√Åcido Sulf√∫rico": {
            desc: "√Åcido mineral altamente corrosivo y deshidratante.",
            color: "L√≠quido aceitoso incoloro a amarillento.",
            container: "Vidrio borosilicatado o Polietileno de alta densidad (PEAD). Nunca metal.",
            uses: "Fertilizantes, refinaci√≥n de petr√≥leo, limpieza de metales.",
            skin: "Destruye tejidos instant√°neamente. Produce calor extremo al contacto.",
            breath: "Vapores asfixiantes que causan edema pulmonar.",
            ingest: "Perforaci√≥n inmediata del tracto digestivo. Letal.",
            prevention: "Guantes de nitrilo grueso, m√°scara con filtro para gases √°cidos, pechera de caucho."
        },
        "Sodio Met√°lico": {
            desc: "Metal alcalino extremadamente reactivo.",
            color: "S√≥lido blando, plateado (se oxida a blanco r√°pido).",
            container: "Sumergido en aceite mineral o queroseno dentro de vidrio o metal.",
            uses: "S√≠ntesis qu√≠mica, l√°mparas de vapor de sodio.",
            skin: "Reacciona con la humedad de la piel creando quemaduras t√©rmicas y qu√≠micas.",
            breath: "Polvo altamente irritante.",
            ingest: "Reacci√≥n explosiva en el est√≥mago por el agua.",
            prevention: "Manejo en atm√≥sfera inerte, pinzas secas, gafas de seguridad."
        },
        "Permanganato de K": {
            desc: "Oxidante fuerte en forma de cristales.",
            color: "Cristales s√≥lidos de color p√∫rpura oscuro intenso.",
            container: "Frasco de vidrio oscuro (sensible a la luz).",
            uses: "Tratamiento de aguas, desinfectante, s√≠ntesis org√°nica.",
            skin: "Ti√±e la piel de marr√≥n, irritaci√≥n moderada.",
            breath: "Polvo irrita v√≠as respiratorias.",
            ingest: "T√≥xico, causa dolor abdominal fuerte.",
            prevention: "Evitar contacto con materiales combustibles (se incendian)."
        },
        "Glicerina": {
            desc: "Alcohol l√≠quido viscoso y dulce.",
            color: "L√≠quido espeso, transparente y viscoso.",
            container: "Pl√°stico o vidrio.",
            uses: "Jabones, jarabes, lubricantes.",
            skin: "Seguro, usado en cosm√©tica.",
            breath: "Inofensivo a temp. ambiente.",
            ingest: "Seguro en peque√±as dosis.",
            prevention: "Mantener alejado de oxidantes fuertes como el √°cido n√≠trico."
        },
        "Clorato de Potasio": {
            desc: "Compuesto oxidante altamente reactivo.",
            color: "Polvo blanco cristalino.",
            container: "Envase de pl√°stico herm√©tico.",
            uses: "Cerillas (f√≥sforos), pirotecnia, desinfectantes.",
            skin: "Irritaci√≥n leve.",
            breath: "Polvo peligroso al inhalar.",
            ingest: "T√≥xico para la sangre (metahemoglobinemia).",
            prevention: "No golpear ni friccionar cerca de azufre o f√≥sforo."
        },
        "√Åcido N√≠trico": {
            desc: "√Åcido fuerte y agente oxidante muy potente.",
            color: "L√≠quido transparente a amarillento, desprende humos.",
            container: "Vidrio oscuro, lejos de la luz y el calor.",
            uses: "Fabricaci√≥n de explosivos, fertilizantes, grabado de metales.",
            skin: "Quemaduras amarillentas severas, destruye la piel.",
            breath: "Vapores rojos de √≥xido de nitr√≥geno muy venenosos.",
            ingest: "Corrosivo letal.",
            prevention: "Campana de extracci√≥n obligatoria, guantes √°cidos."
        },
        "Per√≥xido (30%+)": {
            desc: "Agua oxigenada concentrada (grado industrial).",
            color: "L√≠quido transparente, un poco m√°s denso que el agua.",
            container: "Botellas con venteo para evitar explosi√≥n por presi√≥n.",
            uses: "Blanqueador de papel, combustible de cohetes.",
            skin: "Blanquea la piel al instante y causa quemaduras.",
            breath: "Vapores irritantes.",
            ingest: "Causa burbujas de ox√≠geno en la sangre (letal).",
            prevention: "Mantener en lugar fr√≠o, lejos de metales."
        },
        "Acetona": {
            desc: "Solvente org√°nico altamente inflamable.",
            color: "L√≠quido transparente, muy fluido y vol√°til.",
            container: "Vidrio o metal (disuelve muchos pl√°sticos).",
            uses: "Quitaesmalte, limpieza de laboratorios.",
            skin: "Reseca excesivamente la piel.",
            breath: "Vapores causan dolor de cabeza y mareos.",
            ingest: "T√≥xico, afecta el sistema nervioso.",
            prevention: "No usar cerca de llamas o chispas."
        }
    };

    // TABLA DE REACCIONES ESPEC√çFICAS
    const reactions = [
        { 
            items: ["√Åcido Sulf√∫rico", "Azufre", "Salitre"], 
            name: "Gases de √Åcido N√≠trico", 
            danger: "M√ÅXIMO üî¥", 
            desc: "Reacci√≥n que genera vapores rojos altamente venenosos y √°cidos. Riesgo de explosi√≥n si hay calor.",
            safety: "Traje NBQ completo, ventilaci√≥n forzada extrema."
        },
        { 
            items: ["Sodio Met√°lico", "Per√≥xido (30%+)"], 
            name: "Incendio T√©rmico Violento", 
            danger: "CR√çTICO üß®", 
            desc: "El sodio reacciona con el ox√≠geno del per√≥xido de forma explosiva, lanzando metal fundido.",
            safety: "Escudos de policarbonato, extinguidores de polvo seco (Clase D)."
        },
        { 
            items: ["Glicerina", "Permanganato de K"], 
            name: "Fuego por Oxidaci√≥n", 
            danger: "INCENDIO üî•", 
            desc: "Tras unos segundos, la mezcla se enciende sola con una llama p√∫rpura muy caliente.",
            safety: "Realizar solo sobre superficies refractarias, lejos de combustibles."
        },
        { 
            items: ["√Åcido N√≠trico", "Glicerina"], 
            name: "Precursor de Nitroglicerina", 
            danger: "LETAL ‚ò£Ô∏è", 
            desc: "Mezcla extremadamente inestable. Un ligero golpe puede causar una detonaci√≥n masiva.",
            safety: "Prohibido fuera de laboratorios militares. Control de temp. bajo cero."
        },
        { 
            items: ["Acetona", "Per√≥xido (30%+)"], 
            name: "Per√≥xido de Acetona (TATP)", 
            danger: "EXPLOSIVO VOL√ÅTIL ‚ö†Ô∏è", 
            desc: "Crea cristales blancos que explotan con solo tocarlos. Muy usado en terrorismo por su inestabilidad.",
            safety: "Nunca intentar. La m√≠nima fricci√≥n detona la mezcla."
        },
        { 
            items: ["√Åcido Sulf√∫rico", "Per√≥xido (30%+)"], 
            name: "Soluci√≥n Pira√±a", 
            danger: "EXTREMO üî¥", 
            desc: "Disuelve cualquier materia org√°nica al contacto. Se calienta hasta hervir sola.",
            safety: "Protecci√≥n total, manejo bajo campana de gases."
        }
    ];

    let selectedItems = [];

    function renderChemicals() {
        const container = document.getElementById('chemical-list');
        Object.keys(chemicals).forEach(name => {
            const item = chemicals[name];
            const div = document.createElement('div');
            div.className = 'chemical-item';
            div.innerHTML = `
                <span style="font-weight:bold">${name}</span>
                <button class="info-btn" onclick="showInfo(event, '${name}')">FICHA</button>
            `;
            div.onclick = () => selectItem(name, div);
            container.appendChild(div);
        });
    }

    function showInfo(event, name) {
        event.stopPropagation();
        const info = chemicals[name];
        const modal = document.getElementById('infoModal');
        const body = document.getElementById('modalBody');
        
        body.innerHTML = `
            <h2 style="color:var(--accent); margin-top:0">${name}</h2>
            <p><i>${info.desc}</i></p>
            <hr style="border:0; border-top:1px solid #30363d">
            <p><b>üîπ Estado:</b> ${info.color}</p>
            <p><b>üì¶ Almacenaje:</b> ${info.container}</p>
            <p><b>üõ†Ô∏è Usos:</b> ${info.uses}</p>
            <div style="background:#2d1a1a; padding:10px; border-radius:8px; margin:10px 0;">
                <h4 style="color:var(--danger); margin:0 0 5px 0;">üö® RIESGOS</h4>
                <p><b>Piel:</b> ${info.skin}</p>
                <p><b>Aire:</b> ${info.breath}</p>
                <p><b>Boca:</b> ${info.ingest}</p>
            </div>
            <p><b>üõ°Ô∏è Prevenci√≥n:</b> ${info.prevention}</p>
            <button class="close-modal" onclick="closeModal()">CERRAR FICHA</button>
        `;
        modal.style.display = 'flex';
    }

    function closeModal() {
        document.getElementById('infoModal').style.display = 'none';
    }

    function selectItem(name, element) {
        if (selectedItems.includes(name)) {
            selectedItems = selectedItems.filter(i => i !== name);
            element.classList.remove('selected');
        } else {
            selectedItems.push(name);
            element.classList.add('selected');
        }
        document.getElementById('selection-display').innerText = selectedItems.length > 0 ? selectedItems.join(' + ') : "Selecciona los componentes...";
        document.getElementById('btn-mezclar').disabled = selectedItems.length < 2;
    }

    function mezclar() {
        const resBox = document.getElementById('resultado');
        const match = reactions.find(r => 
            r.items.length === selectedItems.length && 
            r.items.every(i => selectedItems.includes(i))
        );

        resBox.style.display = "block";
        if (match) {
            resBox.style.borderTopColor = "#f85149";
            resBox.innerHTML = `
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <h2 style="margin:0; color:var(--danger)">${match.name}</h2>
                    <span style="background:var(--danger); color:white; padding:5px 10px; border-radius:5px; font-weight:bold">${match.danger}</span>
                </div>
                <p style="font-size:1.1rem; margin:15px 0;">${match.desc}</p>
                <div style="background:#21262d; padding:15px; border-radius:8px; border-left:4px solid var(--warning)">
                    <h4 style="margin:0; color:var(--warning)">üß§ PROTOCOLO DE MEZCLADO</h4>
                    <p style="margin:5px 0; font-size:0.9rem;">${match.safety}</p>
                </div>
            `;
        } else {
            resBox.style.borderTopColor = "#555";
            resBox.innerHTML = `
                <h2 style="color:#8b949e">Mezcla Sin Datos</h2>
                <p>No hay una reacci√≥n catalogada para esta combinaci√≥n exacta. Esto puede ser porque es inerte o porque es tan inestable que no hay registros seguros.</p>
                <p><b>‚ö†Ô∏è REGLA DE ORO:</b> Si no sabes qu√© hace, NO lo mezcles.</p>
            `;
        }
        window.scrollTo(0, document.body.scrollHeight);
    }

    renderChemicals();
</script>

</body>
</html>
